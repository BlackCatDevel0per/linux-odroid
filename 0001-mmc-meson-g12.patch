--- a/drivers/mmc/host/meson-gx-mmc.c	2020-06-17 15:58:44.521867253 +0300
+++ b/drivers/mmc/host/meson-gx-mmc.c	2020-06-17 15:58:22.281776533 +0300
@@ -1143,11 +1143,11 @@
 
 	mmc->caps |= MMC_CAP_CMD23;
 	if (host->dram_access_quirk) {
-		/* Limit to the available sram memory */
-		//mmc->max_segs = SD_EMMC_SRAM_DATA_BUF_LEN / mmc->max_blk_size;
-		//mmc->max_blk_count = mmc->max_segs;
+		/* Limit segments to 1 due to low available sram memory */
 		mmc->max_segs = 1;
-		mmc->max_blk_count = 2;
+		/* Limit to the available sram memory */
+		mmc->max_blk_count = SD_EMMC_SRAM_DATA_BUF_LEN /
+				     mmc->max_blk_size;
 	} else {
 		mmc->max_blk_count = CMD_CFG_LENGTH_MASK;
 		mmc->max_segs = SD_EMMC_DESC_BUF_LEN /
